<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Site Pessoal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="light">
    <header>
        <nav>
            <ul>
                <li><a href="#home">Home</a></li>
                <!-- Adicione mais itens de menu aqui -->
            </ul>
        </nav>
        <button id="theme-toggle">Alternar Tema</button>
        <select id="language-select">
            <option value="pt">Português</option>
            <option value="en">English</option>
            <option value="es">Español</option>
            <option value="zh">中文</option>
        </select>
    </header>

    <section id="home">
        <div id="welcome-container">
            <h1 id="welcome-message">Bem-vindo ao meu site!</h1>
            <p id="description">Este é um site pessoal em construção.</p>
        </div>
        <div id="calendar-container">
            <div id="weekly-calendar"></div>
        </div>
        <div id="scheduling-form-container">
            <h2>Agendamento de Corte de Cabelo</h2>
            <form id="scheduling-form">
                <label for="name">Nome:</label><br>
                <input type="text" id="name" name="name"><br><br>
                <label for="date">Data:</label><br>
                <input type="date" id="date" name="date"><br><br>
                <label for="time">Hora:</label><br>
                <input type="time" id="time" name="time"><br><br>
                <label for="notes">Observações:</label><br>
                <textarea id="notes" name="notes" rows="4" cols="50"></textarea><br><br>
                <input type="submit" value="Agendar">
            </form>
            <div id="scheduling-confirmation" style="display: none;">
                <p>Agendamento confirmado!</p>
                <p>Detalhes: <span id="confirmation-details"></span></p>
            </div>
        </div>
        <div id="scheduling-history-container">
            <h2>Histórico de Agendamentos</h2>
            <div id="scheduling-history"></div>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Meu Site Pessoal</p>
    </footer>
    <script>
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        const languageSelect = document.getElementById('language-select');
        const welcomeMessage = document.getElementById('welcome-message');
        const description = document.getElementById('description');
        const weeklyCalendarContainer = document.getElementById('weekly-calendar');
        const schedulingForm = document.getElementById('scheduling-form');
        const schedulingConfirmation = document.getElementById('scheduling-confirmation');
        const confirmationDetails = document.getElementById('confirmation-details');
        const schedulingHistory = document.getElementById('scheduling-history');

        const translations = {
            en: {
                welcome: 'Welcome to my site!',
                description: 'This is a personal website under construction.',
                monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
                schedulingForm: {
                    title: 'Haircut Appointment',
                    name: 'Name',
                    date: 'Date',
                    time: 'Time',
                    notes: 'Notes',
                    submit: 'Schedule'
                },
                confirmation: 'Appointment confirmed! Details:',
                history: 'Scheduling History'
            },
            es: {
                welcome: '¡Bienvenido a mi sitio!',
                description: 'Este es un sitio web personal en construcción.',
                monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                schedulingForm: {
                    title: 'Cita para Corte de Cabello',
                    name: 'Nombre',
                    date: 'Fecha',
                    time: 'Hora',
                    notes: 'Notas',
                    submit: 'Agendar'
                },
                confirmation: '¡Cita confirmada! Detalles:',
                history: 'Historial de Citas'
            },
            pt: {
                welcome: 'Bem-vindo ao meu site!',
                description: 'Este é um site pessoal em construção.',
                monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                schedulingForm: {
                    title: 'Agendamento de Corte de Cabelo',
                    name: 'Nome',
                    date: 'Data',
                    time: 'Hora',
                    notes: 'Observações',
                    submit: 'Agendar'
                },
                confirmation: 'Agendamento confirmado! Detalhes:',
                history: 'Histórico de Agendamentos'
            },
            zh: {
                welcome: '欢迎来到我的网站！',
                description: '这是一个正在建设中的个人网站。',
                monthNames: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
                dayNames: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],
                schedulingForm: {
                    title: '理发预约',
                    name: '姓名',
                    date: '日期',
                    time: '时间',
                    notes: '备注',
                    submit: '预约'
                },
                confirmation: '预约已确认！ 详情：',
                history: '预约历史'
            }
        };

        function updateContent(language) {
            welcomeMessage.textContent = translations[language].welcome;
            description.textContent = translations[language].description;
            // Update scheduling form labels and button
            document.querySelector('#scheduling-form-container h2').textContent = translations[language].schedulingForm.title;
            document.querySelector('label[for="name"]').textContent = translations[language].schedulingForm.name + ':';
            document.querySelector('label[for="date"]').textContent = translations[language].schedulingForm.date + ':';
            document.querySelector('label[for="time"]').textContent = translations[language].schedulingForm.time + ':';
            document.querySelector('label[for="notes"]').textContent = translations[language].schedulingForm.notes + ':';
            document.querySelector('#scheduling-form input[type="submit"]').value = translations[language].schedulingForm.submit;
            document.querySelector('#scheduling-history-container h2').textContent = translations[language].history;
        }

        function generateWeeklyCalendar() {
            const today = new Date();
            const dayOfWeek = today.getDay(); // 0 (Sun) to 6 (Sat)
            const weekStart = new Date(today);
            weekStart.setDate(today.getDate() - dayOfWeek);

            let calendarHTML = '<div class="weekly-calendar">';

            // Days of the week header
            calendarHTML += '<div class="week-days">';
            for (let i = 0; i < 7; i++) {
                const day = new Date(weekStart);
                day.setDate(weekStart.getDate() + i);
                calendarHTML += `<div class="day-name">${translations[languageSelect.value].dayNames[day.getDay()].substring(0, 3)} ${day.getDate()}</div>`;
            }
            calendarHTML += '</div>';

            // Hours and appointment slots
            const hours = Array.from({ length: 10 }, (_, i) => i + 8); // From 8 AM to 17 PM
            hours.forEach(hour => {
                calendarHTML += '<div class="hour-row">';
                calendarHTML += `<div class="hour-label">${hour}:00</div>`;
                for (let i = 0; i < 7; i++) {
                    calendarHTML += `<div class="time-slot" data-day="${i}" data-hour="${hour}"></div>`;
                }
                calendarHTML += '</div>';
            });

            calendarHTML += '</div>';
            weeklyCalendarContainer.innerHTML = calendarHTML;

            // Add click listeners to time slots
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.addEventListener('click', () => {
                    const day = parseInt(slot.dataset.day);
                    const hour = parseInt(slot.dataset.hour);
                    const date = new Date(weekStart);
                    date.setDate(weekStart.getDate() + day);
                    const formattedDate = date.toISOString().slice(0, 10);
                    const formattedTime = `${hour.toString().padStart(2, '0')}:00`;

                    // Pre-fill the form
                    document.getElementById('date').value = formattedDate;
                    document.getElementById('time').value = formattedTime;

                    // Scroll to the form
                    schedulingForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            });
        }

        themeToggle.addEventListener('click', () => {
            if (body.getAttribute('data-theme') === 'light') {
                body.setAttribute('data-theme', 'dark');
            } else {
                body.setAttribute('data-theme', 'light');
            }
        });

        languageSelect.addEventListener('change', () => {
            const selectedLanguage = languageSelect.value;
            updateContent(selectedLanguage);
            generateWeeklyCalendar();
        });

        let schedulingHistoryData = [];

        function displaySchedulingHistory() {
            let historyHTML = '';
            schedulingHistoryData.forEach(appointment => {
                historyHTML += `<p>${appointment}</p>`;
            });
            schedulingHistory.innerHTML = historyHTML;
        }

        schedulingForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const name = document.getElementById('name').value;
            const date = document.getElementById('date').value;
            const time = document.getElementById('time').value;
            const notes = document.getElementById('notes').value;

            const details = `Nome: ${name}, Data: ${date}, Hora: ${time}, Observações: ${notes}`;
            confirmationDetails.textContent = details;
            schedulingConfirmation.style.display = 'block';

            schedulingHistoryData.push(details);
            displaySchedulingHistory();
        });

        // Inicializa a tradução com o idioma padrão (Português) e o calendário
        updateContent('pt');
        generateWeeklyCalendar();
    </script>
</body>
</html>